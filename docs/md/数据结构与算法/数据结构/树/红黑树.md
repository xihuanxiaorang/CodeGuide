---
title: 红黑树
tags:
  - 数据结构
  - 树
created: 2022-07-26 23:29:34
modified: 2022-08-21 14:40:19
---
红黑树演示 -> [Red/Black Tree Visualization](https://www.cs.usfca.edu/~galles/visualization/RedBlack.html)

### 1、定义

1. 节点是红色或黑色
2. 根节点是黑色
3. 所有叶子节点都是黑色 (叶子是 NIL 节点)
4. 不存在两个相邻的红节点 (即红节点的父节点和孩子节点均是黑色)
5. 对每个节点，从该节点到任一叶子节点的简单路径上，所含黑节点的数目相同

```ad-important
**口诀：左根右，根叶黑，不红红，黑路同**
```

### 2、插入操作

- 先查找，确定插入位置，插入新节点
- 新节点是根 --> 染为黑色
- 新节点非根 --> 染为红色
	- 若插入新节点后任然满足红黑树定义，则插入结束
	- 若插入新节点后不满足红黑树定义，需要调整 (看新节点叔叔的脸色)，使其重新满足红黑树定义
		- 黑叔：旋转 + 染色
			- LL 型：右旋，父换爷 + 染色 (黑变红，红变黑)
			- RR 型：左旋，父换爷 + 染色
			- LR 型：先左旋后右旋，儿换爷 + 染色
			- RL 型：先右旋后左旋，儿换爷 + 染色
		- 红叔：染色 + 变新 => 叔父爷染色，爷变为新节点

```ad-important
- 为根染黑，非根染红，非根只关注不红红
- 若插入后任为红黑树，则成功
- 若不对，则调整
	- 黑叔
		- LL、RR -> 父单旋，父爷换色
		- RL、LR -> 孙双旋、孙爷换色
	- 红叔：叔父爷换色，爷为新
```

![image-20221109015908895](https://fastly.jsdelivr.net/gh/xihuanxiaorang/images/202211090159491.png)
